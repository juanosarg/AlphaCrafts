<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="AC_VinegarCask"]/comps/li[@Class="PipeSystem.CompProperties_AdvancedResourceProcessor"]/processes</xpath>
		<value>
			<li>AC_FishToFishSauce</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Cooking Expanded</li>
		</mods>
		<match Class="PatchOperationSequence">
			<success>Always</success>
			<operations>
				<li Class="PatchOperationAdd">
					<xpath>Defs</xpath>
					<value>
						<RecipeDef>
							<defName>AC_PrepareSurstromming</defName>
							<label>prepare surströmming</label>
							<description>Cure fish through a preservation process that results in surströmming, a potent and distinctive dish known for its intense flavors. Yield of the recipe will depend on the fish being used to get the cans.</description>
							<jobString>preparing surströmming.</jobString>
							<workSpeedStat>CookSpeed</workSpeedStat>
							<effectWorking>Cook</effectWorking>
							<soundWorking>Recipe_CookMeal</soundWorking>
							<workAmount>2000</workAmount>
							<recipeUsers>
								<li>AC_BottlingStation</li>
							</recipeUsers>
							<ingredients>
								<li>
									<filter>
										<customSummary>fish</customSummary>
										<categories>
											<li>VCEF_RawFishCategory</li>
										</categories>
									</filter>
									<count>50</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>VCE_Salt</li>
										</thingDefs>
									</filter>
									<count>5</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>Steel</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<categories>
									<li>VCEF_RawFishCategory</li>
								</categories>
								<thingDefs>
									<li>VCE_Salt</li>
									<li>Steel</li>
								</thingDefs>
							</fixedIngredientFilter>
							<defaultIngredientFilter>
								<categories>
									<li>VCEF_RawFishCategory</li>
								</categories>
								<thingDefs>
									<li>VCE_Salt</li>
									<li>Steel</li>
								</thingDefs>
							</defaultIngredientFilter>
							<workSkill>Cooking</workSkill>
							<products>
								<AC_Surstromming>10</AC_Surstromming>
							</products>
							<skillRequirements>
								<Cooking>5</Cooking>
							</skillRequirements>
							<modExtensions>
								<li Class="AlphaCrafts.VariableOutputByIngredient">
									<baseline>VCEF_RawAnglerfish</baseline>
									<useCap>true</useCap>
									<capPriceInfluenceMultiplier>1.5</capPriceInfluenceMultiplier>
									<exclusions>
										<li>VCE_Salt</li>
										<li>Steel</li>
									</exclusions>
								</li>
							</modExtensions>
						</RecipeDef>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AC_FishSauce"]/thingCategories</xpath>
					<value>
						<li>VCE_Condiments</li>
					</value>
				</li>
			</operations>
		</match>
	</Operation>
</Patch>

